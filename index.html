<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Aspect Oriented Programming in Raku</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/extra.css">
		<link rel="stylesheet" href="dist/aop-raku.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
			  <section data-background='https://live.staticflickr.com/65535/51288927173_297bc02787_k_d.jpg'>
			    <h1>Aspect Oriented Programming in Raku</h1>
			    <h2><a href='https://github.com/JJ'><code>JJ</code>@GitHub</a>, <a href='https://twitter.com/jjmerelo'><code>@jjmerelo</code></a></h2>
			  </section>
			  <section data-background='https://live.staticflickr.com/65535/51211180103_a4c373c1fd_k_d.jpg'><h1>Raku ^ 2016</h1>
			    <h2 class='fragment'>Perl ^ 1994 </h2>
			  <h3 class='fragment'> Programming ^ 1983 </h3>
			  <h4 class='fragment'> Senior Software Engineer @ <a
		                                                               href='https://polypoly.om'>polypoly</a></h4>
                          </section>

                          <section data-background="https://live.staticflickr.com/927/29528319578_fc904496b2_k_d.jpg"><h1>Yes, we have that too</h1>
                              <h2 class="fragment">Raku, everything <em>and</em>
                                  the kitchen sink</h2>
                          </section>

                          <section>
                              <h1>But what is aspect oriented programming?</h1>
                          </section>

                          <section><h1>A methodology to preserve single
                              responsability</h1>
                              <h2 class="fragment"><em>Cross-cutting</em>
                                  concerns are turned into
                                  <strong>aspects</strong></h2>
                          </section>

                          <section><h1>Authorization is a cross-cutting
                              concern</h1>
                              <h2>Is this caller authorized to make this
                                  function call?</h2>
                          </section>

                          <section><h2><em>Traditional</em> programming:
			      authorization <em>injection</em></h2>
                              <h1 class="fragment">AOP: authorization
			          <em>aspect</em>
                              </h1>
                          </section>

                          <section><h1>Introducing sub wraps</h1>
                              <pre><code data-line-numbers="1-2|4-9|11-12|14-15">sub doing-good() { return "good" };
say doing-good();

&doing-good.wrap( sub {
    my $bt = Backtrace.new;
    my $interesting-sub = $bt[$bt.next-interesting-index(:named)].subname;
    return  "Called from ðŸ”ˆ{$interesting-sub}ðŸ”ˆ â†’" ~ callsame;
});
say doing-good();

sub caller() { doing-good(); }
say caller;

sub outer() { caller; }
say outer();</code></pre>
                          </section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
			    hash: true,
			    width: '95%',
			    controls: true,
			    progress: true,
				// Learn about plugins: https://revealjs.com/plugins/
			    plugins: [ RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
